
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width" />
    <title>Welcome email api test</title>
    
  	<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>

	<script type="text/javascript">
        function OnUpdate(lang,site) {
            var jsonData = '{"Email":"mbastarache@modernmedia.ca","Language":"' + lang + '","SiteSource":"' + site + '"}';

            $.ajax({
                type: 'POST',
				crossDomain: true,
                url: 'http://www.royalepromotions.ca/welcome/api/Email/',
                data: jsonData,
                contentType: "application/json; charset=utf-8",
                dataType: 'json',
                success: function (result, textStatus) {
                    console.log(result);
                    alert(textStatus + " - sent email!");
                },
                error: function (jqXHR, textStatus, errorThrown) { 
					alert(textStatus); 
				} 

            })
        }
		
		
		function GetBasicCall(evt) {
            $.ajax({
                type: 'GET',
				crossDomain: true,
                url: 'http://www.royalepromotions.ca/welcome/api/Email/',
                contentType: "application/json; charset=utf-8",
                dataType: 'json',
                success: function (result, textStatus) {
                    console.log(result);
                    alert(textStatus + " - GET Call was successful!");
                },
                error: function (jqXHR, textStatus, errorThrown) { 
					alert(textStatus); 
				} 

            })
        }
    </script>
</head>
<body>
    <ul>
     <li><a href="#" onclick="OnUpdate('en-Ca','royale')">Click here to get the ROYALE (en-CA) Welcome Email</a><br /><br /></li>
     <li><a href="#" onclick="OnUpdate('fr-Ca','royale')">Click here to get the ROYALE (fr-CA) Welcome Email</a><br /><br /></li>
     <li><a href="#" onclick="OnUpdate('en-Ca','majesta')">Click here to get the MAJESTA (en-CA) Welcome Email</a><br /><br /></li>
     <li><a href="#" onclick="OnUpdate('fr-Ca','majesta')">Click here to get the MAJESTA (fr-CA) Welcome Email</a><br /><br /></li>
     <li><a href="#" onclick="OnUpdate('en-Ca','scotties')">Click here to get the Scotties Welcome Email</a><br /><br /></li>
     </ul>
</body>
</html>
